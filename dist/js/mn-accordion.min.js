(function(a,b){if("function"==typeof define&&define.amd)define(["exports"],b);else if("undefined"!=typeof exports)b(exports);else{var c={exports:{}};b(c.exports),a.index=c.exports}})(this,function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var c=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},d=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e="undefined"==typeof window?void 0:window,f=e.document,g=function(){function a(d){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b(this,a);var h=this;h.defaultOptions={eventName:"click",eventDelay:0,collapsible:!0,multiple:!1,defaultOpenedIndexes:0,slideDuration:200,slideDownFn:function(a,b){a.style.WebkitTransitionDuration=b+"ms",a.style.transitionDuration=b+"ms",a.style.height="auto";var c=a.scrollHeight;a.style.height="0",e.setTimeout(function(){a.style.height=c+"px"},0)},slideUpFn:function(a,b){a.style.WebkitTransitionDuration=b+"ms",a.style.transitionDuration=b+"ms",e.setTimeout(function(){a.style.height="0"},0)}},h.options=c({},h.defaultOptions,g),h.accordion=d,h.accordionItemsLength=h.accordion.childElementCount,"complete"===f.readyState?h.init():f.addEventListener("readystatechange",function(a){"complete"===a.target.readyState&&h.init()},!1)}return d(a,[{key:"init",value:function(){for(var a=this,b=a.options.defaultOpenedIndexes instanceof Array?a.options.defaultOpenedIndexes:[a.options.defaultOpenedIndexes],c=function(c){var d=a.accordion.children[c],e=d.getElementsByClassName("accordion-heading")[0];if(e){!0!==e.eventListenerAttached&&e.addEventListener(a.options.eventName,function eventFn(b){a.handleAccordionItemHeadingEvent(b,d,c)},!1),e.eventListenerAttached=!0}-1<b.indexOf(c)?a.openAccordionItem(d,c):a.closeAccordionItem(d)},d=0;d<a.accordionItemsLength;d++)c(d)}},{key:"openAccordionItem",value:function(a,b){var c=this;a.isOpened=!0,a.classList.add("state-open");var d=a.getElementsByClassName("accordion-content")[0];c.options.multiple||c.closeRestAccordionItems(b),c.options.slideDownFn(d,c.options.slideDuration)}},{key:"openAccordionItemByIndex",value:function(a){var b=this,c=b.accordion.children[a];b.openAccordionItem(c,a)}},{key:"closeAccordionItem",value:function(a){var b=this,c=a.getElementsByClassName("accordion-content")[0];a.isOpened=!1,a.classList.remove("state-open"),b.options.slideUpFn(c,b.options.slideDuration)}},{key:"closeAccordionItemByIndex",value:function(a){var b=this,c=b.accordion.children[a];b.closeAccordionItem(c)}},{key:"closeRestAccordionItems",value:function(){for(var a=this,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];for(var e=0;e<a.accordionItemsLength;e++)if(-1===c.indexOf(e)){var f=a.accordion.children[e];a.closeAccordionItem(f)}}},{key:"handleAccordionItemHeadingEvent",value:function(a,b,c){var d=this;d.eventTimeout&&window.clearTimeout(d.eventTimeout),d.eventTimeout=window.setTimeout(function(){b.isOpened&&!d.options.multiple?(d.options.collapsible&&d.closeAccordionItem(b),d.closeRestAccordionItems(c)):b.isOpened&&d.options.multiple?d.closeAccordionItem(b):d.openAccordionItem(b,c)},d.options.eventDelay)}}]),a}();e.Accordion=g,a.default=g});
